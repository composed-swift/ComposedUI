<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (55% documented)</p>
        <p class="header-right"><a href="https://github.com/composed-swift/ComposedUI"><img src="img/gh.png"/>View on GitHub</a></p>
        <p class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/CollectionCellElement.html">CollectionCellElement</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CollectionCoordinator.html">CollectionCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CollectionSection.html">CollectionSection</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CollectionSupplementaryElement.html">CollectionSupplementaryElement</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ComposedSectionView.html">ComposedSectionView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ComposedStackView.html">ComposedStackView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ComposedStackView/Animation.html">– Animation</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ComposedView.html">ComposedView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ComposedViewCell.html">ComposedViewCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/StackCellElement.html">StackCellElement</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/StackCoordinator.html">StackCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/StackSection.html">StackSection</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TableCoordinator.html">TableCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TableElement.html">TableElement</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TableSection.html">TableSection</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/CollectionElementKind.html">CollectionElementKind</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/DequeueMethod.html">DequeueMethod</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/StackLoadingMethod.html">StackLoadingMethod</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TableHeaderFooter.html">TableHeaderFooter</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions.html#/c:objc(cs)UICollectionReusableView">UICollectionReusableView</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UICollectionView.html">UICollectionView</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UICollectionViewLayout.html">UICollectionViewLayout</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UITableView.html">UITableView</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions.html#/c:objc(cs)UITableViewCell">UITableViewCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions.html#/c:objc(cs)UITableViewHeaderFooterView">UITableViewHeaderFooterView</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/CollectionContextMenuHandler.html">CollectionContextMenuHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CollectionCoordinatorDelegate.html">CollectionCoordinatorDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CollectionDragHandler.html">CollectionDragHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CollectionDropHandler.html">CollectionDropHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CollectionEditingHandler.html">CollectionEditingHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CollectionElement.html">CollectionElement</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CollectionSectionProvider.html">CollectionSectionProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CollectionSelectionHandler.html">CollectionSelectionHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CollectionUpdateHandler.html">CollectionUpdateHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/NibLoadable.html">NibLoadable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ReusableCell.html">ReusableCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ReuseableView.html">ReuseableView</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/StackElementsProvider.html">StackElementsProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/StackSectionAppearanceHandler.html">StackSectionAppearanceHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/StackSectionProvider.html">StackSectionProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TableAccessoryHandler.html">TableAccessoryHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TableActionsHandler.html">TableActionsHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TableContextMenuHandler.html">TableContextMenuHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TableCoordinatorDelegate.html">TableCoordinatorDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TableDropHandler.html">TableDropHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TableEditingHandler.html">TableEditingHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TableMovingHandler.html">TableMovingHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TableSectionLayoutHandler.html">TableSectionLayoutHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TableSectionProvider.html">TableSectionProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TableSelectionHandler.html">TableSelectionHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TableUpdateHandler.html">TableUpdateHandler</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><img src="composed.png" width=20%/></p>

<p><strong>ComposedUI</strong> builds upon <a href="http://github.com/composed-swift/composed"><code>Composed</code></a> by adding user interface features that allow you to power the screens in an application.</p>

<blockquote>
<p>If you prefer to look at code, there&rsquo;s a demo project here: <a href="http://github.com/composed-swift/composed-demo">ComposedDemo</a></p>
</blockquote>

<p>The library is comprised of 4 key types for each view type, as well as various protocols for providing optional functionality.</p>

<p><code>UICollectionView</code> implementations are prefixed with <code>Collection</code>
<code>UITableView</code> implementations are prefixed with <code>Table</code>
<code>UIStackView</code> implementations are prefixed with <code>Stack</code></p>

<p>For example, a <code>UICollectionView</code>&lsquo;s types are defined as follows:</p>

<p><strong>CollectionSectionProvider</strong>
In order for your section to be used in a <code>UICollectionView</code>, your section needs to conform to this protocol. It has only 1 requirement, a function that returns a <code><a href="Classes/CollectionSection.html">CollectionSection</a></code></p>

<p><strong>CollectionSection</strong>
This type encapsulates 3 <code><a href="Protocols/CollectionElement.html">CollectionElement</a></code> instances. A cell, as well as optional header and footer elements.</p>

<p><strong>CollectionElement</strong>
An element defines how a cell or supplementary view should be registered, dequeued and configured for display.</p>

<p><strong>CollectionCoordinator</strong>
The coordinator is responsible for coordinating all of the events between a provider (via its mapping) and its view. Its typically both the <code>delegate</code> &amp; <code>dataSource</code> of the corresponding view as well as the <code>updateDelegate</code> for the root provider.</p>
<h2 id='getting-started' class='heading'>Getting Started</h2>

<p>Lets define a simple section to hold our contacts:</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">Person</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">kind</span><span class="p">:</span> <span class="kt">String</span> <span class="c1">// family or friend</span>
<span class="p">}</span>

<span class="kd">final</span> <span class="kd">class</span> <span class="kt">ContactsSection</span><span class="p">:</span> <span class="kt">ArraySection</span><span class="o">&lt;</span><span class="kt">Person</span><span class="o">&gt;</span> <span class="p">{</span> <span class="p">}</span>
</code></pre>

<p>Now we can extend this so we can show it in a collection view:</p>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">ContactsSection</span><span class="p">:</span> <span class="kt">CollectionSectionProvider</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">section</span><span class="p">(</span><span class="n">with</span> <span class="nv">traitCollection</span><span class="p">:</span> <span class="kt">UITraitCollection</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CollectionSection</span> <span class="p">{</span>
        <span class="cm">/*
        Notes:
        The `dequeueMethod` signals to the coordinator how to register and dequeue the cell
        The element is generic to that cell type
        */</span>
        <span class="k">let</span> <span class="nv">cell</span> <span class="o">=</span> <span class="kt">CollectionCellElement</span><span class="p">(</span><span class="nv">section</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">dequeueMethod</span><span class="p">:</span> <span class="o">.</span><span class="nf">fromNib</span><span class="p">(</span><span class="kt">PersonCell</span><span class="o">.</span><span class="k">self</span><span class="p">))</span> <span class="p">{</span> <span class="n">cell</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">section</span> <span class="k">in</span>
            <span class="c1">// Since everything is generic, we know both the cell and the element types</span>
            <span class="n">cell</span><span class="o">.</span><span class="nf">prepare</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="nf">element</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">index</span><span class="p">))</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="kt">CollectionSection</span><span class="p">(</span><span class="nv">section</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">cell</span><span class="p">:</span> <span class="n">cell</span><span class="p">,</span> <span class="nv">header</span><span class="p">:</span> <span class="n">header</span><span class="p">)</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre>

<p>Finally we need to retain a coordinator on our view controller:</p>
<pre class="highlight swift"><code><span class="kd">final</span> <span class="kd">class</span> <span class="kt">ContactsViewController</span><span class="p">:</span> <span class="kt">UICollectionViewController</span> <span class="p">{</span>

    <span class="kd">private</span> <span class="k">var</span> <span class="nv">coordinator</span><span class="p">:</span> <span class="kt">CollectionCoordinator</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">contacts</span> <span class="o">=</span> <span class="kt">ContactsSection</span><span class="p">()</span>
        <span class="c1">// contacts.append(...)</span>

        <span class="c1">// this single line is all that's needed to connect a collection view to our provider</span>
        <span class="n">coordinator</span> <span class="o">=</span> <span class="kt">CollectionCoordinator</span><span class="p">(</span><span class="nv">collectionView</span><span class="p">:</span> <span class="n">collectionView</span><span class="p">,</span> <span class="nv">sections</span><span class="p">:</span> <span class="n">contacts</span><span class="p">)</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre>

<p>Now if we build and run, our collection view should be populated with our contacts as expected. Simple!</p>
<h2 id='protocols' class='heading'>Protocols</h2>

<p>ComposedUI also includes various protocols for enabling opt-in behaviour for your sections. Lets add support for selection events to our section above:</p>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">ContactsSection</span><span class="p">:</span> <span class="kt">CollectionSelectionHandler</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">didSelect</span><span class="p">(</span><span class="n">at</span> <span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">cell</span><span class="p">:</span> <span class="kt">UICollectionViewCell</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="nf">element</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">index</span><span class="p">))</span>
        <span class="nf">deselect</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">index</span><span class="p">)</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre>

<p>That&rsquo;s it! Our coordinator already handles selection, so when a selection occurs it uses the indexPath to determine which section the selection occured in, it then attempts to cast that section to the protocol and on success, calls the associated method for us. As you can see this is an extremel powerful approach, yet extremely simple and elegant API that has 2 major benefits:</p>

<ol>
<li>You opt-in to the features you want rather than inherit them by default</li>
<li>You can provide your own protocols and use the same infrastructure provided by Composed</li>
</ol>
<h2 id='advanced-usage' class='heading'>Advanced Usage</h2>

<p>So far we&rsquo;ve built a relativel simple example that shows a single section. Lets update our view controller above to use a SectionProvider – and make things more interesting.</p>
<pre class="highlight swift"><code><span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

    <span class="c1">// ... create our contacts (family and friends)</span>

    <span class="k">let</span> <span class="nv">provider</span> <span class="o">=</span> <span class="kt">ComposedSectionProvider</span><span class="p">()</span>
    <span class="n">provider</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">family</span><span class="p">)</span>
    <span class="n">provider</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">friends</span><span class="p">)</span>

    <span class="c1">// this single line is all that's needed to connect a collection view to our provider</span>
    <span class="n">coordinator</span> <span class="o">=</span> <span class="kt">CollectionCoordinator</span><span class="p">(</span><span class="nv">collectionView</span><span class="p">:</span> <span class="n">collectionView</span><span class="p">,</span> <span class="nv">provider</span><span class="p">:</span> <span class="n">provider</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>If we now run our example again, we&rsquo;ll see everything works as it did before, except we now have 2 sections.</p>

<p>This has a number of benefits already:</p>

<ol>
<li>We didn&rsquo;t need to manage indexPaths or section indexes</li>
<li>We were able to reuse our existing section</li>
<li>Our section has no knowledge that its now inside of a larger structure</li>
</ol>

<p>Now lets add some custom behaviour depending on the data:</p>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">ContactsSection</span><span class="p">:</span> <span class="kt">CollectionSelectionHandler</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">allowsMultipleSelection</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">return</span> <span class="n">isFamily</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Lets run the project again and we can see that the Family section now allows multiple selection, whereas the Friend section does not. This is another great benefit of using ComposedUI because the Coordinator is able to perform more advanced logic without needing to understand the underlying structure.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2020 <a class="link" href="" target="_blank" rel="external">Composed Swift</a>. All rights reserved. (Last updated: 2020-11-17)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
